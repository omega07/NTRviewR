import React from 'react';
import { Avatar } from '@material-ui/core';
import "../styles/Header.css";
import { makeStyles } from '@material-ui/core/styles';
import {useHistory} from 'react-router-dom';

const useStyles = makeStyles((theme) => ({
  root: {
    display: 'flex',
    '& > *': {
      margin: theme.spacing(1),
    },
  },
  small: {
    width: theme.spacing(4),
    height: theme.spacing(4),
  },
  smaller: {
    width: theme.spacing(2),
    height: theme.spacing(2),
  }
}));

const AvatarURL = 'https://avatars.dicebear.com/api/human/';


const Header = ({userID, username}) => {
    const classes = useStyles();
    const notHome = userID && (window.location.pathname!=="/")
    const history = useHistory();


    const handleRedirectHome = () => {
      history.push('/');
    }

    return (
        <div className="header">
            <div style={{cursor:"pointer"}} onClick={handleRedirectHome} className="header__logo">
                <svg width="31" height="29" viewBox="0 0 31 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="2.05228" height="14.0239" rx="1.02614" transform="matrix(0.676482 -0.736459 0.676482 0.736459 0 14.0486)" fill="white"/>
                <rect width="2.05228" height="14.0239" rx="1.02614" transform="matrix(-0.676482 -0.736459 -0.676482 0.736459 31 14.0486)" fill="white"/>
                <rect width="1.98454" height="29.7189" rx="0.992272" transform="matrix(-0.929677 -0.368375 -0.317077 0.9484 20.9033 0.814621)" fill="white"/>
                <rect width="2.05228" height="14.0239" rx="1.02614" transform="matrix(0.676482 0.736459 -0.676482 0.736459 9.48691 3.63112)" fill="white"/>
                <rect width="2.05228" height="14.0239" rx="1.02614" transform="matrix(-0.676482 0.736459 0.676482 0.736459 21.5131 3.63112)" fill="white"/>
                </svg>
                <div className="space"></div>
                <svg width="109" height="22" viewBox="0 0 109 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9.428 5.6C9.89733 5.36533 10.3887 5.248 10.902 5.248C11.43 5.248 11.8553 5.40933 12.178 5.732C12.5153 6.05467 12.684 6.44333 12.684 6.898C12.684 7.35267 12.618 8.35733 12.486 9.912C12.354 11.452 12.288 12.6767 12.288 13.586C12.288 16.5047 12.42 18.932 12.684 20.868C12.2147 21.044 11.6867 21.132 11.1 21.132C10.528 21.132 10.0807 21.0367 9.758 20.846C8.81933 20.3033 6.62667 16.8713 3.18 10.55C3.12133 11.122 3.092 12.464 3.092 14.576C3.092 16.6733 3.25333 18.7267 3.576 20.736C3.12133 20.912 2.63 21 2.102 21C1.574 21 1.14133 20.8313 0.804 20.494C0.481333 20.1567 0.32 19.7533 0.32 19.284C0.32 18.8147 0.386 17.832 0.518 16.336C0.664667 14.84 0.738 13.7107 0.738 12.948C0.738 10.0293 0.598667 7.60933 0.32 5.688C0.730667 5.48267 1.332 5.38 2.124 5.38C2.916 5.38 3.47333 5.69533 3.796 6.326C5.96667 10.7407 8.042 14.4807 10.022 17.546C9.978 14.73 9.956 13.2413 9.956 13.08C9.956 10.3373 9.78 7.844 9.428 5.6ZM15.5443 5.314L20.1863 5.38C22.5917 5.38 24.3517 5.292 25.4663 5.116C25.6277 5.424 25.7083 5.776 25.7083 6.172C25.7083 6.568 25.5323 6.92733 25.1803 7.25C24.8283 7.558 24.403 7.712 23.9043 7.712L21.3743 7.426C21.3743 7.52867 21.3377 7.98333 21.2643 8.79C21.059 10.77 20.9563 12.7573 20.9563 14.752C20.9563 16.7467 21.1103 18.7413 21.4183 20.736C20.9343 20.912 20.4283 21 19.9003 21C19.3723 21 18.9177 20.8533 18.5363 20.56C18.155 20.252 17.9643 19.7973 17.9643 19.196C17.9643 18.58 18.0377 17.502 18.1843 15.962C18.331 14.422 18.4043 12.926 18.4043 11.474C18.4043 10.0073 18.331 8.64333 18.1843 7.382C16.4097 7.47 15.0237 7.71933 14.0263 8.13C13.8503 7.79267 13.7623 7.41867 13.7623 7.008C13.7623 6.58267 13.931 6.194 14.2683 5.842C14.6057 5.49 15.031 5.314 15.5443 5.314ZM34.085 13.52C34.745 14.9133 35.581 16.1307 36.593 17.172C37.605 18.2133 38.6097 18.888 39.607 19.196C39.607 19.812 39.4457 20.2887 39.123 20.626C38.8003 20.9633 38.3384 21.132 37.737 21.132C36.9597 21.132 36.0723 20.6333 35.075 19.636C34.0777 18.624 33.205 17.436 32.457 16.072C31.7237 14.6933 31.291 13.4833 31.159 12.442C32.215 12.442 33.0803 12.1633 33.755 11.606C34.4443 11.034 34.789 10.2273 34.789 9.186C34.789 7.866 33.9677 7.206 32.325 7.206C31.797 7.206 31.1517 7.294 30.389 7.47C30.2863 9.45 30.235 11.0487 30.235 12.266C30.235 16.1673 30.389 18.9907 30.697 20.736C30.2277 20.912 29.729 21 29.201 21C28.673 21 28.211 20.8313 27.815 20.494C27.4337 20.1567 27.243 19.7093 27.243 19.152C27.243 18.5947 27.3163 17.6267 27.463 16.248C27.6097 14.8547 27.683 13.74 27.683 12.904C27.683 10.3373 27.4997 8.05667 27.133 6.062C29.113 5.51933 30.9977 5.248 32.787 5.248C36.0577 5.248 37.693 6.414 37.693 8.746C37.693 9.77267 37.341 10.7407 36.637 11.65C35.9477 12.5447 35.097 13.168 34.085 13.52ZM49.5663 17.524C49.053 18.5213 48.4076 19.372 47.6303 20.076C46.853 20.78 46.0756 21.132 45.2983 21.132C44.521 21.132 43.9196 20.868 43.4943 20.34C43.0836 19.7973 42.7903 19.108 42.6143 18.272C42.4383 17.4213 42.277 16.5487 42.1303 15.654C41.9983 14.7593 41.7636 13.8867 41.4263 13.036C41.089 12.1853 40.627 11.5473 40.0403 11.122C40.231 10.77 40.517 10.4767 40.8983 10.242C41.2796 9.99267 41.6903 9.868 42.1303 9.868C42.8196 9.868 43.377 10.3153 43.8023 11.21C44.2276 12.09 44.499 13.0653 44.6163 14.136C44.7483 15.2067 44.8876 16.248 45.0343 17.26C45.1956 18.2573 45.379 18.8293 45.5843 18.976C46.083 18.9467 46.5156 18.6313 46.8823 18.03C47.2636 17.414 47.5423 16.6733 47.7183 15.808C48.041 14.224 48.2023 12.9847 48.2023 12.09C48.2023 11.1953 48.1583 10.506 48.0703 10.022C48.5836 9.91933 49.0236 9.868 49.3903 9.868C50.6516 9.868 51.2823 10.4693 51.2823 11.672C51.2823 12.4347 51.121 13.3513 50.7983 14.422C50.4903 15.478 50.0796 16.512 49.5663 17.524ZM52.7398 10.066C53.2091 9.934 53.6785 9.868 54.1478 9.868C54.6318 9.868 55.0425 10.0147 55.3798 10.308C55.7171 10.6013 55.8858 10.9827 55.8858 11.452C55.8858 11.9067 55.8051 12.706 55.6438 13.85C55.4971 14.9793 55.4238 15.8593 55.4238 16.49C55.4238 18.1327 55.5778 19.548 55.8858 20.736C55.4311 20.912 54.9398 21 54.4118 21C53.8838 21 53.4658 20.8827 53.1578 20.648C52.8498 20.3987 52.6958 20.0467 52.6958 19.592C52.6958 19.1227 52.7838 18.36 52.9598 17.304C53.1358 16.248 53.2238 15.3753 53.2238 14.686C53.2238 12.8527 53.0625 11.3127 52.7398 10.066ZM53.0258 5.094C53.5391 4.85933 54.0451 4.742 54.5438 4.742C55.0425 4.742 55.4091 4.874 55.6438 5.138C55.8931 5.38733 56.0178 5.76133 56.0178 6.26C56.0178 6.75867 55.8491 7.19867 55.5118 7.58C55.1891 7.96133 54.7638 8.152 54.2358 8.152C53.1505 8.152 52.6078 7.58733 52.6078 6.458C52.6078 5.95933 52.7471 5.50467 53.0258 5.094ZM60.2392 16.006C60.2392 17.062 60.4079 17.898 60.7452 18.514C61.0826 19.1153 61.6472 19.416 62.4392 19.416C63.2312 19.416 63.8472 19.152 64.2872 18.624C64.7419 18.0813 64.9692 17.4287 64.9692 16.666C65.4679 16.666 65.9006 16.7907 66.2672 17.04C66.6339 17.2893 66.8172 17.634 66.8172 18.074C66.8172 18.9833 66.3332 19.746 65.3652 20.362C64.3972 20.9633 63.3779 21.264 62.3072 21.264C60.6352 21.264 59.4252 20.8167 58.6772 19.922C57.9292 19.0127 57.5552 17.6707 57.5552 15.896C57.5552 14.1213 58.0539 12.6327 59.0512 11.43C60.0632 10.2127 61.4052 9.604 63.0772 9.604C64.2212 9.604 65.1379 9.868 65.8272 10.396C66.5312 10.9093 66.8832 11.716 66.8832 12.816C66.8832 13.9013 66.3846 14.7227 65.3872 15.28C64.4046 15.8227 63.2019 16.094 61.7792 16.094C61.2806 16.094 60.7672 16.0647 60.2392 16.006ZM60.2612 14.268C60.7012 14.356 61.1632 14.4 61.6472 14.4C62.7032 14.4 63.5906 14.202 64.3092 13.806C64.3972 13.454 64.4412 13.1753 64.4412 12.97C64.4412 12.4567 64.2579 12.068 63.8912 11.804C63.5246 11.54 63.0186 11.408 62.3732 11.408C61.7426 11.408 61.1706 11.6133 60.6572 12.024C60.3932 12.7867 60.2612 13.5347 60.2612 14.268ZM68.0345 11.1C68.4891 10.2787 69.1345 9.868 69.9705 9.868C70.5131 9.868 70.9531 10.1613 71.2905 10.748C71.6278 11.32 71.8625 12.0313 71.9945 12.882C72.1411 13.718 72.2585 14.5687 72.3465 15.434C72.5665 17.59 72.8378 18.7707 73.1605 18.976C73.7325 18.8293 74.2385 17.9567 74.6785 16.358C75.1185 14.7447 75.3385 13.5347 75.3385 12.728C75.3385 11.9067 75.2945 11.254 75.2065 10.77C75.7198 10.6673 76.1598 10.616 76.5265 10.616C77.7878 10.616 78.4185 11.2173 78.4185 12.42C78.4185 14.2973 78.5138 15.83 78.7045 17.018C78.9098 18.1913 79.1518 18.888 79.4305 19.108C79.8411 19.0787 80.1931 18.756 80.4865 18.14C80.7798 17.524 80.9925 16.776 81.1245 15.896C81.3738 14.2387 81.4985 12.97 81.4985 12.09C81.4985 11.1953 81.4545 10.506 81.3665 10.022C81.8798 9.91933 82.3198 9.868 82.6865 9.868C83.9478 9.868 84.5785 10.4693 84.5785 11.672C84.5785 12.4347 84.4245 13.3587 84.1165 14.444C83.8085 15.5147 83.4051 16.5633 82.9065 17.59C82.4078 18.602 81.7991 19.4673 81.0805 20.186C80.3765 20.9047 79.6725 21.264 78.9685 21.264C78.1618 21.264 77.5531 20.6627 77.1425 19.46C76.8198 18.5507 76.5558 17.37 76.3505 15.918C76.2185 16.402 76.1231 16.754 76.0645 16.974C76.0058 17.194 75.9031 17.524 75.7565 17.964C75.6098 18.404 75.4778 18.7413 75.3605 18.976C75.2431 19.2107 75.0818 19.4893 74.8765 19.812C74.6858 20.1347 74.4878 20.3693 74.2825 20.516C73.7691 20.9267 73.1971 21.132 72.5665 21.132C71.9505 21.132 71.4371 20.8533 71.0265 20.296C70.6305 19.7387 70.3518 19.0273 70.1905 18.162C70.0438 17.2967 69.9118 16.4093 69.7945 15.5C69.5158 13.1827 68.9291 11.716 68.0345 11.1ZM93.1026 13.52C93.7626 14.9133 94.5986 16.1307 95.6106 17.172C96.6226 18.2133 97.6273 18.888 98.6246 19.196C98.6246 19.812 98.4633 20.2887 98.1406 20.626C97.8179 20.9633 97.3559 21.132 96.7546 21.132C95.9773 21.132 95.0899 20.6333 94.0926 19.636C93.0953 18.624 92.2226 17.436 91.4746 16.072C90.7413 14.6933 90.3086 13.4833 90.1766 12.442C91.2326 12.442 92.0979 12.1633 92.7726 11.606C93.4619 11.034 93.8066 10.2273 93.8066 9.186C93.8066 7.866 92.9853 7.206 91.3426 7.206C90.8146 7.206 90.1693 7.294 89.4066 7.47C89.3039 9.45 89.2526 11.0487 89.2526 12.266C89.2526 16.1673 89.4066 18.9907 89.7146 20.736C89.2453 20.912 88.7466 21 88.2186 21C87.6906 21 87.2286 20.8313 86.8326 20.494C86.4513 20.1567 86.2606 19.7093 86.2606 19.152C86.2606 18.5947 86.3339 17.6267 86.4806 16.248C86.6273 14.8547 86.7006 13.74 86.7006 12.904C86.7006 10.3373 86.5173 8.05667 86.1506 6.062C88.1306 5.51933 90.0153 5.248 91.8046 5.248C95.0753 5.248 96.7106 6.414 96.7106 8.746C96.7106 9.77267 96.3586 10.7407 95.6546 11.65C94.9653 12.5447 94.1146 13.168 93.1026 13.52Z" fill="white"/>
                  <path d="M103.93 8.14C103.015 8.14 102.273 7.818 101.704 7.174C101.135 6.52067 100.85 5.55467 100.85 4.276C100.85 3.00667 101.13 2.036 101.69 1.364C102.25 0.692 103.034 0.356 104.042 0.356C104.593 0.356 105.05 0.454 105.414 0.649999C105.787 0.836667 106.095 1.12133 106.338 1.504H106.422C106.469 1.34533 106.529 1.17267 106.604 0.985999C106.679 0.799333 106.767 0.636 106.87 0.496H107.836C107.771 0.701333 107.71 0.972 107.654 1.308C107.598 1.644 107.556 1.99867 107.528 2.372C107.5 2.74533 107.486 3.1 107.486 3.436V6.348C107.486 6.63733 107.542 6.84267 107.654 6.964C107.766 7.076 107.901 7.132 108.06 7.132C108.135 7.132 108.214 7.12267 108.298 7.104C108.382 7.08533 108.443 7.07133 108.48 7.062V7.958C108.415 7.99533 108.307 8.03267 108.158 8.07C108.009 8.11667 107.855 8.14 107.696 8.14C107.351 8.14 107.066 8.056 106.842 7.888C106.627 7.72 106.469 7.42133 106.366 6.992H106.268C106.053 7.30933 105.769 7.58 105.414 7.804C105.059 8.028 104.565 8.14 103.93 8.14ZM104.14 7.118C104.915 7.118 105.461 6.89867 105.778 6.46C106.105 6.012 106.268 5.30733 106.268 4.346V4.262C106.268 3.32867 106.114 2.61933 105.806 2.134C105.507 1.63933 104.947 1.392 104.126 1.392C103.445 1.392 102.941 1.63933 102.614 2.134C102.287 2.62867 102.124 3.34733 102.124 4.29C102.124 5.22333 102.283 5.928 102.6 6.404C102.927 6.88 103.44 7.118 104.14 7.118Z" fill="white"/>
                </svg>
            </div>
            <div className="header__avatar__name">
            {notHome ?
                <><Avatar className={classes.small + " header__avatar"} src={AvatarURL+userID+'.svg'}/>
                <div className="header__user">{username}</div></>
                  :
                <><a href="/report" className="report_bugs">Report bugs!</a></>
            }
            </div>
        </div>
    )
}

export default Header
